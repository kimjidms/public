# CloudFront

전 세계에 파일을 빠른 속도로 배포하는 CDN 서비스이다. EC2 인스턴스나 S3 버킷은 동작되는 장소가 리전에 한정적이다. 따라서 멀리 떨어진 지역에서 접속할 경우 전송 속도가 상당히 느리다. 이때 CloudFront를 이용하여 EC2 인스턴스, ELB, S3 버킷의 내용을 에지 로케이션에 캐시하면 빠른 성능을 낼 수 있다. \(외부 웹 서버의 내용도 캐시할 수 있다.\)

사용자가 맨 처음 CloudFront 에지 로케이션에 접속했을 때, 원하는 파일이 있으면 에지 로케이션에서 바로 파일을 받게 된다. 하지만, 파일이 없으면 에지 로케이션이 원본 파일이 있는 오리진에 접속하여 파일을 가져온 뒤 사용자에게 전달한다.

* 동적 콘텐츠 전송을 지원한다.
* POST, PUT, DELETE, OPTIONS, PATCH 메서드는 캐시되지 않고 곧바로 오리진으로 전달된다.
* 기본 오리진은 S3이다. 

**CloudFront 배포**

CloudFront의 가장 기본적인 단위이다. 이 배포가 독립적인 도메인을 가지게 된다. 이후 DNS 서비스인 Route 53나 별도의 DNS 서버에서 배포 도메인을 CNAME으로 설정하면 사용자가 구매한 도메인과 연결할 수 있다.



**S3와 CludFront 연동하기**

리전의 위치는 크게 상관이 없지만 S3에도 파일을 매번 올려야 하므로 가장 가까운 곳을 선택하는 것이 좋다.



**EC2와 CluodFront 연동하기**

Elastic IP로 연결되어있지 않으면 Public DNS도 사용할 수 없게된다. 반드시 Elastic IP로 연결이 되어있어야한다.

